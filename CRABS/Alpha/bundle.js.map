{"version":3,"file":"bundle.js","sources":["../../../Dev/node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js","../../../Dev/node_modules/tslib/tslib.es6.js","../../../../Dev/src/base.ts","../../../../Dev/src/modules/whisperplus.ts","../../../../Dev/src/modules/roster.ts","../../../../Dev/src/main.ts"],"sourcesContent":["// Bondage Club Mod Development Kit (1.2.0)\n// For more info see: https://github.com/Jomshir98/bondage-club-mod-sdk\n/** @type {ModSDKGlobalAPI} */\nvar bcModSdk=function(){\"use strict\";const o=\"1.2.0\";function e(o){alert(\"Mod ERROR:\\n\"+o);const e=new Error(o);throw console.error(e),e}const t=new TextEncoder;function n(o){return!!o&&\"object\"==typeof o&&!Array.isArray(o)}function r(o){const e=new Set;return o.filter((o=>!e.has(o)&&e.add(o)))}const i=new Map,a=new Set;function c(o){a.has(o)||(a.add(o),console.warn(o))}function s(o){const e=[],t=new Map,n=new Set;for(const r of f.values()){const i=r.patching.get(o.name);if(i){e.push(...i.hooks);for(const[e,a]of i.patches.entries())t.has(e)&&t.get(e)!==a&&c(`ModSDK: Mod '${r.name}' is patching function ${o.name} with same pattern that is already applied by different mod, but with different pattern:\\nPattern:\\n${e}\\nPatch1:\\n${t.get(e)||\"\"}\\nPatch2:\\n${a}`),t.set(e,a),n.add(r.name)}}e.sort(((o,e)=>e.priority-o.priority));const r=function(o,e){if(0===e.size)return o;let t=o.toString().replaceAll(\"\\r\\n\",\"\\n\");for(const[n,r]of e.entries())t.includes(n)||c(`ModSDK: Patching ${o.name}: Patch ${n} not applied`),t=t.replaceAll(n,r);return(0,eval)(`(${t})`)}(o.original,t);let i=function(e){var t,i;const a=null===(i=(t=m.errorReporterHooks).hookChainExit)||void 0===i?void 0:i.call(t,o.name,n),c=r.apply(this,e);return null==a||a(),c};for(let t=e.length-1;t>=0;t--){const n=e[t],r=i;i=function(e){var t,i;const a=null===(i=(t=m.errorReporterHooks).hookEnter)||void 0===i?void 0:i.call(t,o.name,n.mod),c=n.hook.apply(this,[e,o=>{if(1!==arguments.length||!Array.isArray(e))throw new Error(`Mod ${n.mod} failed to call next hook: Expected args to be array, got ${typeof o}`);return r.call(this,o)}]);return null==a||a(),c}}return{hooks:e,patches:t,patchesSources:n,enter:i,final:r}}function l(o,e=!1){let r=i.get(o);if(r)e&&(r.precomputed=s(r));else{let e=window;const a=o.split(\".\");for(let t=0;t<a.length-1;t++)if(e=e[a[t]],!n(e))throw new Error(`ModSDK: Function ${o} to be patched not found; ${a.slice(0,t+1).join(\".\")} is not object`);const c=e[a[a.length-1]];if(\"function\"!=typeof c)throw new Error(`ModSDK: Function ${o} to be patched not found`);const l=function(o){let e=-1;for(const n of t.encode(o)){let o=255&(e^n);for(let e=0;e<8;e++)o=1&o?-306674912^o>>>1:o>>>1;e=e>>>8^o}return((-1^e)>>>0).toString(16).padStart(8,\"0\").toUpperCase()}(c.toString().replaceAll(\"\\r\\n\",\"\\n\")),d={name:o,original:c,originalHash:l};r=Object.assign(Object.assign({},d),{precomputed:s(d),router:()=>{},context:e,contextProperty:a[a.length-1]}),r.router=function(o){return function(...e){return o.precomputed.enter.apply(this,[e])}}(r),i.set(o,r),e[r.contextProperty]=r.router}return r}function d(){for(const o of i.values())o.precomputed=s(o)}function p(){const o=new Map;for(const[e,t]of i)o.set(e,{name:e,original:t.original,originalHash:t.originalHash,sdkEntrypoint:t.router,currentEntrypoint:t.context[t.contextProperty],hookedByMods:r(t.precomputed.hooks.map((o=>o.mod))),patchedByMods:Array.from(t.precomputed.patchesSources)});return o}const f=new Map;function u(o){f.get(o.name)!==o&&e(`Failed to unload mod '${o.name}': Not registered`),f.delete(o.name),o.loaded=!1,d()}function g(o,t){o&&\"object\"==typeof o||e(\"Failed to register mod: Expected info object, got \"+typeof o),\"string\"==typeof o.name&&o.name||e(\"Failed to register mod: Expected name to be non-empty string, got \"+typeof o.name);let r=`'${o.name}'`;\"string\"==typeof o.fullName&&o.fullName||e(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof o.fullName}`),r=`'${o.fullName} (${o.name})'`,\"string\"!=typeof o.version&&e(`Failed to register mod ${r}: Expected version to be string, got ${typeof o.version}`),o.repository||(o.repository=void 0),void 0!==o.repository&&\"string\"!=typeof o.repository&&e(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof o.version}`),null==t&&(t={}),t&&\"object\"==typeof t||e(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const i=!0===t.allowReplace,a=f.get(o.name);a&&(a.allowReplace&&i||e(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\\nWas the mod loaded multiple times?`),u(a));const c=o=>{let e=g.patching.get(o.name);return e||(e={hooks:[],patches:new Map},g.patching.set(o.name,e)),e},s=(o,t)=>(...n)=>{var i,a;const c=null===(a=(i=m.errorReporterHooks).apiEndpointEnter)||void 0===a?void 0:a.call(i,o,g.name);g.loaded||e(`Mod ${r} attempted to call SDK function after being unloaded`);const s=t(...n);return null==c||c(),s},p={unload:s(\"unload\",(()=>u(g))),hookFunction:s(\"hookFunction\",((o,t,n)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const i=l(o),a=c(i);\"number\"!=typeof t&&e(`Mod ${r} failed to hook function '${o}': Expected priority number, got ${typeof t}`),\"function\"!=typeof n&&e(`Mod ${r} failed to hook function '${o}': Expected hook function, got ${typeof n}`);const s={mod:g.name,priority:t,hook:n};return a.hooks.push(s),d(),()=>{const o=a.hooks.indexOf(s);o>=0&&(a.hooks.splice(o,1),d())}})),patchFunction:s(\"patchFunction\",((o,t)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const i=l(o),a=c(i);n(t)||e(`Mod ${r} failed to patch function '${o}': Expected patches object, got ${typeof t}`);for(const[n,i]of Object.entries(t))\"string\"==typeof i?a.patches.set(n,i):null===i?a.patches.delete(n):e(`Mod ${r} failed to patch function '${o}': Invalid format of patch '${n}'`);d()})),removePatches:s(\"removePatches\",(o=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const t=l(o);c(t).patches.clear(),d()})),callOriginal:s(\"callOriginal\",((o,t,n)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to call a function: Expected function name string, got ${typeof o}`);const i=l(o);return Array.isArray(t)||e(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),i.original.apply(null!=n?n:globalThis,t)})),getOriginalHash:s(\"getOriginalHash\",(o=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to get hash: Expected function name string, got ${typeof o}`);return l(o).originalHash}))},g={name:o.name,fullName:o.fullName,version:o.version,repository:o.repository,allowReplace:i,api:p,loaded:!0,patching:new Map};return f.set(o.name,g),Object.freeze(p)}function h(){const o=[];for(const e of f.values())o.push({name:e.name,fullName:e.fullName,version:e.version,repository:e.repository});return o}let m;const y=void 0===window.bcModSdk?window.bcModSdk=function(){const e={version:o,apiVersion:1,registerMod:g,getModsInfo:h,getPatchingInfo:p,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return m=e,Object.freeze(e)}():(n(window.bcModSdk)||e(\"Failed to init Mod SDK: Name already in use\"),1!==window.bcModSdk.apiVersion&&e(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==o&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);return\"undefined\"!=typeof exports&&(Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=y),y}();\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","import {ModSDKModAPI} from \"bondage-club-mod-sdk\";\n\nexport default class CRABS {\n    declare crabs: ModSDKModAPI;\n    private readonly ICONS: Record<string, string> = {\n        \"admin\" : \"icons/admin.svg\",\n        \"vip\" : \"icons/vip.svg\",\n        \"player\" : \"icons/player.svg\",\n        \"you\" : \"icons/you.svg\",\n        \"owner\" : \"icons/owner.svg\",\n        \"sub\" : \"icons/sub.svg\",\n        \"trial\" : \"icons/trial.svg\",\n        \"lover\" : \"icons/lover.svg\",\n        \"bestfriend\" : \"icons/bestfriend.svg\",\n        \"friend\" : \"icons/friends.svg\",\n        \"whitelist\" : \"icons/whitelist.svg\",\n        \"blacklist\" : \"icons/blacklist.svg\",\n        \"ghost\" : \"icons/ghost.svg\",\n        \"thought\": \"icons/thought.svg\"\n    }\n\n    private icon_height = 0;\n    private icon_width = 0\n\n    private modlist: Array<any>;\n\n    constructor (icon_height: number, icon_width: number, CRABS: ModSDKModAPI, modlist: Array<any>) {\n        this.icon_height = icon_height;\n        this.icon_width = icon_width;\n        this.modlist = modlist;\n        this.crabs = CRABS;\n    }\n\n        // Opens the player profile\n        // This functions is setup up to be exposed to the global DOM\n    public static showPlayerFocus(MemberNumber: number): void {\n        // Check if the person is still in the room\n      const PLAYER = ChatRoomCharacter.find(C => C.MemberNumber == MemberNumber);\n        if (PLAYER) {\n            ChatRoomStatusUpdate(\"Preference\");\n            ChatRoomFocusCharacter(PLAYER);\n        } else {\n            ChatRoomSendLocal(\"This person is no longer in the room.\");\n        }\n    };\n\n\n    private detectMod(targetmod: string): boolean {\n        return(this.modlist.filter(x => x.name == targetmod).length > 0);\n    }\n\n    private printicon(key: string) : string {\n        let ICON = \"./icons/error.svg\";\n        if (key in this.ICONS) {\n            ICON = this.ICONS[key];\n        }\n\n        let absolutepath = \"https://sin-1337.github.io/CRABS/\"\n        let html = \"\";\n        html += \"<img \";\n        html += \"height=\" + this.icon_height + \"px' \";\n        html += \"width='\" + this.icon_width + \"px' \";\n        html += \"alt='\" + key + \"' \";\n        html += \"src='\" + absolutepath + ICON + \"'\";\n        html += \">\";\n        return(html);\n    }\n}\n","import {ModSDKModAPI} from \"bondage-club-mod-sdk\";\nimport CRABS from \"../base.ts\"\nexport default class WhisperPlus extends CRABS {\n\n    constructor(icon_height: number, icon_width: number, CRABS: ModSDKModAPI) {\n        super(icon_height, icon_width, CRABS);\n    }\n\n    // send chat message at range\n    private ChatRoomSendWhisperRanged(target: any, msg: string): boolean {\n        if (msg == \"\") {\n            return false;\n        }\n\n        // First ensure we have a valid target object\n        const TARGETMEMEBER = typeof target === 'object' ? target : ChatRoomCharacter.find(C => C.MemberNumber === parseInt(target));\n        if (!TARGETMEMEBER) {\n            ChatRoomSendLocalChatRoomSendLocal(`${TextGet(\"CommandNoWhisperTarget\")} ${target}.`, 30_000);\n            return;\n        }\n\n        // Handle self whispers with gray text and memo emoji\n        if (TARGETMEMEBER.MemberNumber === Player.MemberNumber) {\n            const SELFMESSAGE = `<span style=\"color:#989898\">${this.printicon(\"thought\")} Note to </span><span style=\"color:${Player.LabelColor}\">self</span><span style=\"color:#989898\">: ${msg}</span>`;\n            ChatRoomSendLocal(SELFMESSAGE);\n            return;\n        }\n\n        // Replace normal brackets with fake ones in the message\n        msg = msg.replace(/\\(/g, \"❪\"); //replace the ( for consistency\n        msg = msg.replace(/\\)/g, \"❫\"); // technically only this one is really needed\n\n\n        // Prepare the message - now with ⤵ instead of :\n        let formattedMsg = `(Whisper+❩⤵\\n${msg}`;\n        if (Player.ChatSettings.OOCAutoClose && !msg.endsWith('）')) {\n            formattedMsg += '）';\n        }\n\n        // check if target and player are the same\n        if (target.MemberNumber == Player.MemberNumber) {\n            addChatMessage(msg);\n        } else {\n            if (ChatRoomMapViewIsActive() && !ChatRoomMapViewCharacterOnWhisperRange(target) && msg[0] != \"(\") {\n                msg = `(${msg})`;\n            }\n\n            // build data payload\n            const DATA = ChatRoomGenerateChatRoomChatMessage(\"Whisper\", msg);\n            \n            // set the whisper target\n            DATA.Target = target.MemberNumber;\n\n            //send the whisper\n            const serverData = { ...DATA, Type: \"Whisper\" }\n            ServerSend(\"ChatRoomChat\", serverData);\n\n            // tell it who we are\n            DATA.Sender = Player.MemberNumber;\n\n            // send the chat to our window too\n            ChatRoomMessage(DATA);\n\n            // message was sent\n            return true;\n        }\n        return false;\n    }\n\n    // This starts /whisper+ if you click on the roster\n    public static sendWhisper(memberNumber: number): void {\n      for ( const command of Commands ) {\n        if (command.Tag == \"whisper+\") {\n          window.CommandSet(command.Tag + \" \" + memberNumber)\n        }\n      }\n    };\n\n    // this runs when a player enters the /whisper+ command or clicks the roster\n    public whisperplus(args: any, command: any, modlist: any): number {\n        this.modlist = modlist;\n        // parse arguments into MEMBERNUMBER and messsage\n        const MEMBERNUMBER = parseInt(args.slice(0, args.indexOf(\" \")));\n        //const MESSAGE = args.slice(args.indexOf(\" \") + 1);\n        const MESSAGE = command.substring(command.indexOf(' ') + MEMBERNUMBER.toString().length + 2);\n        console.log(MESSAGE);\n\n        // if membernumber is not a valid number, bail\n        if (Number.isNaN(MEMBERNUMBER)) {\n            ChatRoomSendLocal(\"Member number is invalid.\", 30_000);\n            return 1;\n        }\n\n        if (MESSAGE == \"\") {\n            ChatRoomSendLocal(\"Message was blank\", 30_000);\n            return 1;\n        }\n\n        // find player based no membernumber\n        const TARGET = ChatRoomCharacter.find(\n            (C: any) => C.MemberNumber == MEMBERNUMBER\n        );\n        this.ChatRoomSendWhisperRanged(TARGET || MEMBERNUMBER, MESSAGE);\n        return 0;\n    }\n}\n","import WhisperPlus from \"./whisperplus\";\nimport CRABS from \"../base.ts\";\nimport {ModSDKModAPI} from \"bondage-club-mod-sdk\";\nwindow.sendWhisper = WhisperPlus.sendWhisper;\n\nexport default class Roster extends CRABS {\n\n    private onlineFriends: number | undefined = undefined;\n    private lastSentTime: number = 0;  // Timestamp for the last ServerSend call\n\n    constructor(icon_height: number, icon_width: number, CRABS: ModSDKModAPI) {\n        super(icon_height, icon_width, CRABS);\n        this.loadFriendList();\n        // expose showPlayerFocus to the DOM\n        window.PlayerFocus = Roster.showPlayerFocus;\n    }\n\n    // show help\n    private showhelp() : string {\n            let output = `<table style=\"width: 100%\"><tr><td>\n            <span style=\" text-shadow: 0px 0px 3px #000000; white-space: normal;\">\n            <hr>\n            CRABS help sheet</br>\n            /roster</br>\n            This command lists the number of admins and players\n            in a room and gives you some informatoin about them </br>\n            \n            /players is deprecated, but still works currently.\n\n            </br>\n            Arguments:\n            <hr>\n            help - show this menu </br>\n            count - show only the player count </br>\n            admins - show only a list of admins and the counts </br>\n            vips - show only room whitelisted and the counts </br>\n\n            </br>\n            Badges:\n            <hr>\n            ${this.printicon(\"admin\")} = Person is Admin</br>\n            ${this.printicon(\"vip\")} = Person is whitelisted in the room </br>\n            ${this.printicon(\"player\")} = Person is a normal user </br>\n\n            </br>\n            Icons:\n            <hr>\n            ${this.printicon(\"you\")} = Person is you </br>\n            ${this.printicon(\"owner\")} = Person is your owner </br>\n            ${this.printicon(\"sub\")} = Person is your submissive </br>\n            ${this.printicon(\"trial\")} = Person is on trial with you </br>\n            ${this.printicon(\"lover\")} = Person is your lover </br>`;\n            \n            //prints only if the BCTweaks module is detected.\n            if (this.detectMod(\"BCTweaks\")) {\n                output += `${this.printicon(\"bestfriend\")} = Person is a best friend </br>`\n            }\n\n            output += `${this.printicon(\"friend\")} = Person is a friend </br>\n            ${this.printicon(\"whitelist\")} = You have this person whitelisted </br>\n            ${this.printicon(\"blacklist\")} = You have this person blacklisted </br>\n            ${this.printicon(\"ghost\")} = You have ghosted this person </br>\n\n            </br>\n            Actions:\n            <hr>\n            Click Badge - If you click the badge for a player it will be as if you clicked them to interact. </br>\n            Click name - If you click the name/number of a player it will whisper them without range constraints. </br>\n            </span>\n            </td>\n            </tr>\n            </table>`;\n        return(output);\n    }\n\n\n    // formats the data for outputting\n    private formatoutput(player: any, badge: string, player_icons: string, isMe: boolean) : string {\n        let playername = CharacterNickname(player);\n        let output = `<tr>\n                <td style=\"padding-left: 5px; padding-right-5px; padding-bottom: 1px; padding-top: 0;\"><span style=\"cursor:pointer;\" onclick=\"PlayerFocus(${player.MemberNumber})\">${badge}</span></td>`;\n\n      // set up whispering\n        output += `<td style=\"padding-left: 5px; padding-right-5px; padding-bottom: 1px; padding-top: 0;\"><span style=\"color:${player.LabelColor || '#000000'}; cursor:pointer;\n                font-family: Arial, sans-serif;\n                text-shadow: 2px 2px 2px rgba(0, 0, 0, 0.7); white-space: nowrap;\"\n                onclick=\"sendWhisper(${player.MemberNumber})\"\n                onmouseover=\"this.style.textDecoration='underline';\"\n                onmouseout=\"this.style.textDecoration='none';\">\n                  ${CharacterNickname(player).normalize(\"NFKC\")}[${player.MemberNumber}]\n              </span>${player_icons}</td>\n          </tr>`;\n\n      return output;\n    }\n\n    /*public this.crabs.hookFunction(eventName: string, arg: number, callback: (args: any[], next: (args: any[]) => void) => void): void {\n      // Simulating the hook execution\n      // In a real scenario, this could be a hook in a framework where you register callbacks for events\n      const dummyArgs = [[{ length: 5 }]]; // Sample data simulating the \"data\" from your hook\n      callback(dummyArgs, (args: any[]) => {\n        console.log('Next callback executed', args);\n      });\n    }*/\n\n    public loadFriendList(): void {\n        this.crabs.hookFunction(\"FriendListLoadFriendList\", 0, (args, next) => {\n          const [data] = args;\n          this.onlineFriends = data.length;\n          // console.log(`Number of online friends: ${this.onlineFriends}`);\n          return next(args);\n        });\n    }\n    \n      // Debounce function to control the timing of ServerSend\n    private canSendServerRequest(): boolean {\n      const now = Date.now();\n      if (now - this.lastSentTime >= 10 * 60 * 1000) { // 10 minutes in milliseconds\n        this.lastSentTime = now;  // Update the lastSentTime to the current time\n        return true;\n      }\n      return false;\n    }\n\n    // Function to get the online friend count\n    public async getOnlineFriendCount(): Promise<number> {\n      // Check if it's okay to send the server request\n      if (this.canSendServerRequest()) {\n        // Send server request if it's been more than 2 minutes\n        await ServerSend(\"AccountQuery\", { Query: \"OnlineFriends\" });\n      }\n\n      // Wait for the hook function to finish (assuming `next` ensures it completes)\n      // This is a simple approach assuming that `next` returns a promise or async behavior\n      return new Promise<number>((resolve) => {\n        const interval = setInterval(() => {\n          if (this.onlineFriends !== undefined) {\n            clearInterval(interval);  // Stop waiting once onlineFriends is updated\n            resolve(this.onlineFriends);  // Return the online friends count\n          }\n        }, 100);  // Check every 100ms if onlineFriends has been set\n      });\n    }\n\n    // determine if player is admin or whitelisted in the room and set their badge icon\n    setbadge(player: any) : string {\n      let badge = this.printicon(\"player\");\n      badge = ChatRoomData.Whitelist.includes(player.MemberNumber) ? this.printicon(\"vip\") : badge;\n      badge = ChatRoomData.Admin.includes(player.MemberNumber) ? this.printicon(\"admin\") : badge\n      return badge;\n    }\n\n    setIcons(player: any) : string {\n      let player_icons = \"\";\n      if (Player.OwnerNumber() == player.MemberNumber) {\n        // person owns you\n        player_icons += this.printicon(\"owner\") + \" \";\n      }\n\n      else if (Player.IsInFamilyOfMemberNumber(player.MemberNumber)) {\n        // if they down't own you but you are in their family, we assume you own them\n        if (Player.IsOwnedByPlayer(player.membernumber)) {\n          // The person is fully owned if this is true\n          player_icons += this.printicon(\"sub\") + \" \";\n        }\n        else {\n          // person is on trial\n          player_icons += this.printicon(\"trial\") + \" \"\n        }\n      }\n      if (Player.GetLoversNumbers().includes(player.MemberNumber)) {\n        // person is a lover\n        player_icons += this.printicon(\"lover\") + \" \";\n      }\n      else {\n          if (this.detectMod(\"BCTweaks\")) {\n              // BCTweaks mod is found\n              if (Player.BCT.bctSettings.bestFriendsList.includes(player.MemberNumber)) {\n                  //Player is a best friend, skip checking if they are a friend.\n                  player_icons += this.printicon(\"bestfriend\") + \" \";\n              }\n              else if (Player.FriendList.includes(player.MemberNumber)) {\n                  // Player is not a best friend, but they are a freind\n                  player_icons += this.printicon(\"friend\") + \" \";\n              }\n          }\n          else if (Player.FriendList.includes(player.MemberNumber)) {\n            // person is a friend, and the BCTweaks mod is not found\n            player_icons += this.printicon(\"friend\") + \" \";\n          }\n      }\n      if (Player.WhiteList.includes(player.MemberNumber)) {\n        // Player is whitelisted\n        player_icons += this.printicon(\"whitelist\") + \" \";\n      }\n      else if (Player.BlackList.includes(player.MemberNumber)) {\n        // Player is blacklisted\n        player_icons += this.printicon(\"blacklist\") + \" \";\n      }\n      if (Player.GhostList.includes(player.MemberNumber)) {\n        // Player is ghosted\n        player_icons += this.printicon(\"ghost\") + \" \";\n      }\n      return player_icons;\n    }\n\n    // Check if you and target player are the same\n    checkIfMe(player: any) : boolean {\n      return player.MemberNumber == Player.MemberNumber ? true : false;\n    }\n\n    // prints the roster\n    public displayroster(args: any, modlist: any): void {\n        this.modlist = modlist;\n        const SPLITARGS = args.split(\" \");\n        if (SPLITARGS[0].toLowerCase() == \"help\") {\n            ChatRoomSendLocal(this.showhelp());\n            return;\n        }\n\n        let me_output_html = \"\"; // holds data about user who ran script\n        let admin_output_html = \"\"; // holds admins\n        let vip_output_html = \"\"; // holds whitelisted users\n        let player_output_html = \"\"; // holds normal players\n        let player; // the person we found in the room\n        let admin_count = 0; // number of admins in the room\n        let badge = \"\"; // holds the admin icon if the player is an admin\n        let player_icons = \"\"; // holds the list of player/status icons (string)\n        let MemberNumber: number;\n        // filter variables, show or not show certain output\n        let showme = true; // person who ran the script (you)\n        let showadmins = true; // room admins\n        let showvip = true; // room whitelists\n        let showplayers = true; // normal players\n\n\n        //get a list of players\n        for (let person in ChatRoomData.Character) {\n            // find membernumber for current player in list\n            MemberNumber = ChatRoomData.Character[person].MemberNumber;\n\n            // Find player\n            player = ChatRoomCharacter.find((C: any) => C.MemberNumber == MemberNumber);\n\n            //bail out and return placeholder if player is not available.\n            if (!player) {\n                player_output_html +=\n                    \"❓ <span style='color:#FF0000'>[Unknown Person]</span>\\n\";\n                continue;\n            }\n\n            // check if the player is also an admin or vip and add icon with admin given priority\n            badge = this.setbadge(player);\n            player_icons = this.setIcons(player);\n\n            // if the player is me (person who ran the script)\n            if (this.checkIfMe(player)) {\n                // mark me with a star icon\n                player_icons = this.printicon(\"you\") + \" \" + player_icons;\n\n                // format my outpupt and store\n                me_output_html = this.formatoutput(player, badge, player_icons, true);\n            }\n\n            // check if the player is an admin and update the count, also flad the player as admin in the output list.\n            if (ChatRoomData.Admin.includes(player.MemberNumber)) {\n                admin_count++;\n                if (!this.checkIfMe(player, Player)) {\n                    // if the player is not me, output admin and skip rest of loop\n                    admin_output_html += this.formatoutput(\n                        player,\n                        badge,\n                        player_icons,\n                        false\n                    );\n                    continue;\n                }\n            } else if (\n                ChatRoomData.Whitelist.includes(player.MemberNumber) &&\n                !this.checkIfMe(player, Player)\n            ) {\n                // if the player isn't an admin, is the player is whitelested?\n                vip_output_html += this.formatoutput(player, badge, player_icons, false);\n                continue;\n            } else if (!this.checkIfMe(player)) {\n                // player is normal, nonadmin, not whitelist, and not me.\n                player_output_html += this.formatoutput(\n                    player,\n                    badge,\n                    player_icons,\n                    false\n                );\n            }\n        }\n\n        // if argument is \"count\", set filter vars and skip loop\n        if (SPLITARGS.some((item) => item.toLowerCase() === \"count\")) {\n            console.log(\"count only\");\n            showme = false;\n            showadmins = false;\n            showvip = false;\n            showplayers = false;\n        }\n\n        // if argument is admins, set filter vars to only show admins and continue\n        if (SPLITARGS.some((item) => item.toLowerCase() === \"admins\")) {\n            console.log(\"admins only\");\n            showme = false;\n            showvip = false;\n            showplayers = false;\n        }\n\n        // if argument is vips, set filter vars to only show vips (whitelisted) and continue\n        if (SPLITARGS.some((item) => item.toLowerCase() === \"vips\")) {\n            console.log(\"vips only\");\n            showme = false;\n            showadmins = false;\n            showplayers = false;\n        }\n\n        //output total number of players/admins\n        ChatRoomSendLocal(\n            `<div>There are ${admin_count}/${ChatRoomData.Admin.length} admins in the room.`\n        );\n        ChatRoomSendLocal(\n            `There are ${ChatRoomCharacter.length}/${ChatRoomData.Limit} total players in the room.`\n        );\n        if (this.onlineFriends !== undefined) {\n            ChatRoomSendLocal(\n                `You have ${this.onlineFriends}/${Player.FriendNames.size} friends online.`\n            );\n        }\n        else {\n            ChatRoomSendLocal(\n                `You have ${Player.FriendNames.size} friends, checking for how many are online...`\n            );\n        }\n        ChatRoomSendLocal(\n            `There are ${CurrentOnlinePlayers} online players</div>`\n        );\n        let output_html = \"\";\n\n        // start the tabble and remove the boarders\n        output_html += `<table style=\"border: 0px;\">`;\n\n        // if the filter var resolves to true, add the respective output.\n        output_html = showme ? output_html + me_output_html : output_html;\n        output_html = showadmins ? output_html + admin_output_html : output_html;\n        output_html = showvip ? output_html + vip_output_html : output_html;\n        output_html = showplayers\n            ? output_html + player_output_html\n            : output_html;\n\n        // finish the table\n        output_html += `</table>`;\n\n        // show the final output\n        ChatRoomSendLocal(output_html);\n    }\n}\n","// import section\nimport bcModSDK from 'bondage-club-mod-sdk';\nimport Roster from \"./modules/roster\";\nimport WhisperPlus from \"./modules/whisperplus\";\n\n\n// configure the version and mod name\nconst VERSION = \"1.0.0.47\";\nconst NAME = \"Crazy Roster Add-on By Sin\";\nconst NICKNAME = \"CRABS\";\n\n//these are in em units\nconst ICON_HEIGHT = 25;\nconst ICON_WIDTH = 25;\n\n//register the mod\nconst CRABS = bcModSDK.registerMod({\n    name: NICKNAME,\n    fullName: NAME,\n    version: VERSION,\n    repository: \"https://github.com/sin-1337/CRABS\",\n});\n\nconst WHISPERPLUS = new WhisperPlus(ICON_HEIGHT, ICON_WIDTH, CRABS;\nconst ROSTER = new Roster(ICON_HEIGHT, ICON_WIDTH, CRABS;\n\n\n// TODO: create ui to turn this off!!\n// TODO: reformat this output maybe?\n// set up a handler for room entry\nChatRoomRegisterMessageHandler({\n  Description: \"Send room stats on entry.\",\n  Priority: 0, // trigger immediately\n  Callback: (data) => {\n    // check if we are a player and we entered a room\n    if (\n      data.Type === \"Action\" &&\n      data.Content === \"ServerEnter\" &&\n      data.Sender === Player.MemberNumber\n    ) {\n      // work on a delay\n      setTimeout(() => {\n        // if the player left the room, bail!\n        if (Player.LastChatRoom === null) {\n          return false\n        }\n\n        // get player permissions\n        const currentPermissionText = `${TextGetInScope(\n          \"Screens/Character/InformationSheet/Text_InformationSheet.csv\",\n          \"PermissionLevel\" + Player.ItemPermission.toString()\n        )} (${Player.ItemPermission})`;\n\n        // format and display the player permissions\n        ChatRoomSendLocal(`\n                  <hr>\n                  <div style=\"padding-left: 5px; padding-right-5px; padding-bottom: 1px; padding-top: 0;\">\n                    <span style=\"display: inline; margin: 0; padding: 0; line-height: 1; color: #5BA3E0; font-weight: bold;\">Player Item Permission: </span>\n                    <span style=\"display: inline; margin: 0; padding: 0; line-height: 1; color: ${Player.LabelColor}; font-weight: bold; text-shadow: 0 0 1px black;\">${currentPermissionText}</span>\n                    <span style=\"display: inline; margin: 0; padding: 0; line-height: 1; color: #5BA3E0; font-weight: bold;\">&nbsp;</span>\n                  </div>\n                `);\n\n        // output room details\n        ChatRoomSendLocal(\n          \"<div>Room details for: \" + ChatRoomData.Name + \"</div>\"\n        );\n        for (let index in Commands) {\n          index = parseInt(index);\n          if (Commands[index].Tag === \"players\") {\n            Commands[index].Action(\"count\");\n            break;\n          }\n        }\n\n        // output message letting players know how to view the full roster\n        ChatRoomSendLocal(\"<div>To see the full roster use /roster</div><hr>\");\n      }, 3600);\n    }\n\n    // must return false to allow other handlers to work with the data\n    return false;\n  },\n});\n\n// implements the whisper+ command\nCommandCombine([\n    {\n        Tag: \"whisper+\",\n        Description: \"Enables the /whisper+ command that is global to a map room\",\n        Action: (args: any, command: any) => {\n            WHISPERPLUS.whisperplus(args, command, bcModSDK.getModsInfo());\n        },\n    },\n]);\n\n// implements the /crabs command\nCommandCombine([\n    {\n        Tag: \"crabs\",\n        Description: \"Show the player count, helpful in maps.\",\n        Action: (args: any) => {\n            ROSTER.displayroster(args, bcModSDK.getModsInfo());\n        },\n    }\n]); \n\n\n// implements the /roster command\nCommandCombine([\n    {\n        Tag: \"roster\",\n        Description: \"Show the player count, helpful in maps.\",\n        Action: (args: any) => {\n            ROSTER.displayroster(args, bcModSDK.getModsInfo());\n        },\n    }\n]); \n\n// implements the /players command\nCommandCombine([\n    {\n        Tag: \"players\",\n        Description: \"Deprecated: Show the player count, helpful in maps.\",\n        Action: (args: any) => {\n            ROSTER.displayroster(args, bcModSDK.getModsInfo());\n        },\n    }\n]); \n"],"names":["o","e","alert","Error","console","error","t","TextEncoder","n","Array","isArray","r","Set","filter","has","add","i","Map","a","c","warn","s","f","values","patching","get","name","push","hooks","patches","entries","set","sort","priority","size","toString","replaceAll","includes","eval","original","m","errorReporterHooks","hookChainExit","call","apply","this","length","hookEnter","mod","hook","arguments","patchesSources","enter","final","l","precomputed","window","split","slice","join","encode","padStart","toUpperCase","d","originalHash","Object","assign","router","context","contextProperty","p","sdkEntrypoint","currentEntrypoint","hookedByMods","map","patchedByMods","from","u","delete","loaded","g","fullName","version","repository","allowReplace","apiEndpointEnter","unload","hookFunction","indexOf","splice","patchFunction","removePatches","clear","callOriginal","globalThis","getOriginalHash","api","freeze","h","y","bcModSdk","apiVersion","registerMod","getModsInfo","getPatchingInfo","seal","defineProperty","exports","value","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","create","SuppressedError","CRABS$1","constructor","icon_height","icon_width","CRABS","modlist","ICONS","admin","vip","player","you","owner","sub","trial","lover","bestfriend","friend","whitelist","blacklist","ghost","thought","crabs","showPlayerFocus","MemberNumber","PLAYER","ChatRoomCharacter","find","C","ChatRoomStatusUpdate","ChatRoomFocusCharacter","ChatRoomSendLocal","detectMod","targetmod","x","printicon","key","ICON","html","WhisperPlus","super","ChatRoomSendWhisperRanged","target","msg","TARGETMEMEBER","parseInt","ChatRoomSendLocalChatRoomSendLocal","TextGet","Player","SELFMESSAGE","LabelColor","formattedMsg","replace","ChatSettings","OOCAutoClose","endsWith","ChatRoomMapViewIsActive","ChatRoomMapViewCharacterOnWhisperRange","DATA","ChatRoomGenerateChatRoomChatMessage","Target","serverData","Type","ServerSend","Sender","ChatRoomMessage","addChatMessage","sendWhisper","memberNumber","command","Commands","Tag","CommandSet","whisperplus","args","MEMBERNUMBER","MESSAGE","substring","log","Number","isNaN","TARGET","Roster","onlineFriends","undefined","lastSentTime","loadFriendList","PlayerFocus","showhelp","output","formatoutput","badge","player_icons","isMe","CharacterNickname","normalize","data","canSendServerRequest","now","Date","getOnlineFriendCount","Query","interval","setInterval","clearInterval","setbadge","ChatRoomData","Whitelist","Admin","setIcons","OwnerNumber","IsInFamilyOfMemberNumber","IsOwnedByPlayer","membernumber","GetLoversNumbers","BCT","bctSettings","bestFriendsList","FriendList","WhiteList","BlackList","GhostList","checkIfMe","displayroster","SPLITARGS","toLowerCase","me_output_html","admin_output_html","vip_output_html","player_output_html","admin_count","showme","showadmins","showvip","showplayers","person","Character","some","item","Limit","FriendNames","CurrentOnlinePlayers","output_html","bcModSDK","WHISPERPLUS","ROSTER","ChatRoomRegisterMessageHandler","Description","Priority","Callback","Content","setTimeout","LastChatRoom","currentPermissionText","TextGetInScope","ItemPermission","Name","index","Action","CommandCombine"],"mappings":"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","x_google_ignoreList":[0,1]}