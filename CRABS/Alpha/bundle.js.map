{"version":3,"file":"bundle.js","sources":["../../../Dev/node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js","../../../Dev/node_modules/tslib/tslib.es6.js","../../../Dev/node_modules/style-inject/dist/style-inject.es.js","../../../../Dev/src/base.ts","../../../../Dev/src/modules/roster.ts","../../../../Dev/src/modules/whisperplus.ts","../../../../Dev/src/main.ts","../../../../Dev/src/modules/banner.ts","../../../../Dev/src/modules/help.ts","../../../../Dev/src/modules/dom.ts"],"sourcesContent":["// Bondage Club Mod Development Kit (1.2.0)\n// For more info see: https://github.com/Jomshir98/bondage-club-mod-sdk\n/** @type {ModSDKGlobalAPI} */\nvar bcModSdk=function(){\"use strict\";const o=\"1.2.0\";function e(o){alert(\"Mod ERROR:\\n\"+o);const e=new Error(o);throw console.error(e),e}const t=new TextEncoder;function n(o){return!!o&&\"object\"==typeof o&&!Array.isArray(o)}function r(o){const e=new Set;return o.filter((o=>!e.has(o)&&e.add(o)))}const i=new Map,a=new Set;function c(o){a.has(o)||(a.add(o),console.warn(o))}function s(o){const e=[],t=new Map,n=new Set;for(const r of f.values()){const i=r.patching.get(o.name);if(i){e.push(...i.hooks);for(const[e,a]of i.patches.entries())t.has(e)&&t.get(e)!==a&&c(`ModSDK: Mod '${r.name}' is patching function ${o.name} with same pattern that is already applied by different mod, but with different pattern:\\nPattern:\\n${e}\\nPatch1:\\n${t.get(e)||\"\"}\\nPatch2:\\n${a}`),t.set(e,a),n.add(r.name)}}e.sort(((o,e)=>e.priority-o.priority));const r=function(o,e){if(0===e.size)return o;let t=o.toString().replaceAll(\"\\r\\n\",\"\\n\");for(const[n,r]of e.entries())t.includes(n)||c(`ModSDK: Patching ${o.name}: Patch ${n} not applied`),t=t.replaceAll(n,r);return(0,eval)(`(${t})`)}(o.original,t);let i=function(e){var t,i;const a=null===(i=(t=m.errorReporterHooks).hookChainExit)||void 0===i?void 0:i.call(t,o.name,n),c=r.apply(this,e);return null==a||a(),c};for(let t=e.length-1;t>=0;t--){const n=e[t],r=i;i=function(e){var t,i;const a=null===(i=(t=m.errorReporterHooks).hookEnter)||void 0===i?void 0:i.call(t,o.name,n.mod),c=n.hook.apply(this,[e,o=>{if(1!==arguments.length||!Array.isArray(e))throw new Error(`Mod ${n.mod} failed to call next hook: Expected args to be array, got ${typeof o}`);return r.call(this,o)}]);return null==a||a(),c}}return{hooks:e,patches:t,patchesSources:n,enter:i,final:r}}function l(o,e=!1){let r=i.get(o);if(r)e&&(r.precomputed=s(r));else{let e=window;const a=o.split(\".\");for(let t=0;t<a.length-1;t++)if(e=e[a[t]],!n(e))throw new Error(`ModSDK: Function ${o} to be patched not found; ${a.slice(0,t+1).join(\".\")} is not object`);const c=e[a[a.length-1]];if(\"function\"!=typeof c)throw new Error(`ModSDK: Function ${o} to be patched not found`);const l=function(o){let e=-1;for(const n of t.encode(o)){let o=255&(e^n);for(let e=0;e<8;e++)o=1&o?-306674912^o>>>1:o>>>1;e=e>>>8^o}return((-1^e)>>>0).toString(16).padStart(8,\"0\").toUpperCase()}(c.toString().replaceAll(\"\\r\\n\",\"\\n\")),d={name:o,original:c,originalHash:l};r=Object.assign(Object.assign({},d),{precomputed:s(d),router:()=>{},context:e,contextProperty:a[a.length-1]}),r.router=function(o){return function(...e){return o.precomputed.enter.apply(this,[e])}}(r),i.set(o,r),e[r.contextProperty]=r.router}return r}function d(){for(const o of i.values())o.precomputed=s(o)}function p(){const o=new Map;for(const[e,t]of i)o.set(e,{name:e,original:t.original,originalHash:t.originalHash,sdkEntrypoint:t.router,currentEntrypoint:t.context[t.contextProperty],hookedByMods:r(t.precomputed.hooks.map((o=>o.mod))),patchedByMods:Array.from(t.precomputed.patchesSources)});return o}const f=new Map;function u(o){f.get(o.name)!==o&&e(`Failed to unload mod '${o.name}': Not registered`),f.delete(o.name),o.loaded=!1,d()}function g(o,t){o&&\"object\"==typeof o||e(\"Failed to register mod: Expected info object, got \"+typeof o),\"string\"==typeof o.name&&o.name||e(\"Failed to register mod: Expected name to be non-empty string, got \"+typeof o.name);let r=`'${o.name}'`;\"string\"==typeof o.fullName&&o.fullName||e(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof o.fullName}`),r=`'${o.fullName} (${o.name})'`,\"string\"!=typeof o.version&&e(`Failed to register mod ${r}: Expected version to be string, got ${typeof o.version}`),o.repository||(o.repository=void 0),void 0!==o.repository&&\"string\"!=typeof o.repository&&e(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof o.version}`),null==t&&(t={}),t&&\"object\"==typeof t||e(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const i=!0===t.allowReplace,a=f.get(o.name);a&&(a.allowReplace&&i||e(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\\nWas the mod loaded multiple times?`),u(a));const c=o=>{let e=g.patching.get(o.name);return e||(e={hooks:[],patches:new Map},g.patching.set(o.name,e)),e},s=(o,t)=>(...n)=>{var i,a;const c=null===(a=(i=m.errorReporterHooks).apiEndpointEnter)||void 0===a?void 0:a.call(i,o,g.name);g.loaded||e(`Mod ${r} attempted to call SDK function after being unloaded`);const s=t(...n);return null==c||c(),s},p={unload:s(\"unload\",(()=>u(g))),hookFunction:s(\"hookFunction\",((o,t,n)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const i=l(o),a=c(i);\"number\"!=typeof t&&e(`Mod ${r} failed to hook function '${o}': Expected priority number, got ${typeof t}`),\"function\"!=typeof n&&e(`Mod ${r} failed to hook function '${o}': Expected hook function, got ${typeof n}`);const s={mod:g.name,priority:t,hook:n};return a.hooks.push(s),d(),()=>{const o=a.hooks.indexOf(s);o>=0&&(a.hooks.splice(o,1),d())}})),patchFunction:s(\"patchFunction\",((o,t)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const i=l(o),a=c(i);n(t)||e(`Mod ${r} failed to patch function '${o}': Expected patches object, got ${typeof t}`);for(const[n,i]of Object.entries(t))\"string\"==typeof i?a.patches.set(n,i):null===i?a.patches.delete(n):e(`Mod ${r} failed to patch function '${o}': Invalid format of patch '${n}'`);d()})),removePatches:s(\"removePatches\",(o=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const t=l(o);c(t).patches.clear(),d()})),callOriginal:s(\"callOriginal\",((o,t,n)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to call a function: Expected function name string, got ${typeof o}`);const i=l(o);return Array.isArray(t)||e(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),i.original.apply(null!=n?n:globalThis,t)})),getOriginalHash:s(\"getOriginalHash\",(o=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to get hash: Expected function name string, got ${typeof o}`);return l(o).originalHash}))},g={name:o.name,fullName:o.fullName,version:o.version,repository:o.repository,allowReplace:i,api:p,loaded:!0,patching:new Map};return f.set(o.name,g),Object.freeze(p)}function h(){const o=[];for(const e of f.values())o.push({name:e.name,fullName:e.fullName,version:e.version,repository:e.repository});return o}let m;const y=void 0===window.bcModSdk?window.bcModSdk=function(){const e={version:o,apiVersion:1,registerMod:g,getModsInfo:h,getPatchingInfo:p,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return m=e,Object.freeze(e)}():(n(window.bcModSdk)||e(\"Failed to init Mod SDK: Name already in use\"),1!==window.bcModSdk.apiVersion&&e(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==o&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);return\"undefined\"!=typeof exports&&(Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=y),y}();\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import bcModSdk, { ModSDKModAPI, ModSDKModInfo } from \"bondage-club-mod-sdk\";\nimport \"./templates/base.css\";\nimport wrappertemplate from \"./templates/wrapper.html\";\nexport type TemplateValue = string | { text: string };\n\nexport default class CRABS {\n  declare crabs: ModSDKModAPI;\n\n  // an dictionary containing all the icons that CRABS uses\n  protected readonly ICONS: Record<string, string> = {\n    // logo\n    logo: \"https://sin-1337.github.io/CRABS/CRABS_Logo.png\",\n\n    // error icon\n    error: \"https://sin-1337.github.io/CRABS/error.svg\",\n\n    // badges\n    admin: \"https://sin-1337.github.io/CRABS/icons/admin.svg\",\n    vip: \"https://sin-1337.github.io/CRABS/icons/vip.svg\",\n    player: \"https://sin-1337.github.io/CRABS/icons/player.svg\",\n\n    // icons\n    you: \"https://sin-1337.github.io/CRABS/icons/you.svg\",\n    owner: \"https://sin-1337.github.io/CRABS/icons/owner.svg\",\n    sub: \"https://sin-1337.github.io/CRABS/icons/sub.svg\",\n    trial: \"https://sin-1337.github.io/CRABS/icons/trial.svg\",\n    lover: \"https://sin-1337.github.io/CRABS/icons/lover.svg\",\n    bestfriend: \"https://sin-1337.github.io/CRABS/icons/bestfriend.svg\",\n    friend: \"https://sin-1337.github.io/CRABS/icons/friends.svg\",\n    whitelist: \"https://sin-1337.github.io/CRABS/icons/whitelist.svg\",\n    blacklist: \"https://sin-1337.github.io/CRABS/icons/blacklist.svg\",\n    ghost: \"https://sin-1337.github.io/CRABS/icons/ghost.svg\",\n    thought: \"https://sin-1337.github.io/CRABS/icons/thought.svg\",\n\n    // globe icon for all BC players\n    connected: \"https://sin-1337.github.io/CRABS/icons/connected.svg\",\n\n    //map keys\n    keyGold: \"https://sin-1337.github.io/CRABS/icons/keyGold.png\",\n    keySilver: \"https://sin-1337.github.io/CRABS/icons/keySilver.png\",\n    keyBronze: \"https://sin-1337.github.io/CRABS/icons/keyBronze.png\",\n    keyNull: \"https://sin-1337.github.io/CRABS/icons/keyNull.svg\",\n\n    //BC Icons:\n    blindNone: \"https://sin-1337.github.io/CRABS/icons/blindNone.svg\",\n    blindLight:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/BlindLight.png\",\n    blindNormal:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/BlindNormal.png\",\n    blindHeavy:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/BlindHeavy.png\",\n    blindTotal:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/BlindHeavy.png\",\n\n    deafNone: \"https://sin-1337.github.io/CRABS/icons/deafNone.svg\",\n    deafLight:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/DeafLight.png\",\n    deafNormal:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/DeafNormal.png\",\n    deafHeavy:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/DeafHeavy.png\",\n    deafTotal:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/DeafHeavy.png\",\n\n    gagNone: \"https://sin-1337.github.io/CRABS/icons/gagNone.svg\",\n    gagVeryLight:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/GagLight.png\",\n    gagEasy:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/GagLight.png\",\n    gagLight:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/GagLight.png\",\n    gagNormal:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/GagNormal.png\",\n    gagMedium:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/GagNormal.png\",\n    gagHeavy:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/GagHeavy.png\",\n    gagVeryHeavy:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/GagHeavy.png\",\n    gagTotal:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/GagTotal.png\",\n    gagTotal2:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/GagTotal.png\",\n    gagTotal3:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/GagTotal.png\",\n    gagTotal4:\n      \"https://www.bondageprojects.elementfx.com/R115/BondageClub/Icons/Previews/GagTotal.png\",\n  };\n\n  constructor(CRABS: ModSDKModAPI) {\n    this.crabs = CRABS;\n  }\n\n  /*\n   * Takes a member number and opens that player's  \"focus\" screen.\n   * This functions is setup up to be exposed to the global DOM\n   *\n   * @param MemberNumber - A number for the player in question\n   * @return void\n   */\n  public static showPlayerFocus(MemberNumber: number): void {\n    // Check if the person is still in the room\n    const PLAYER = ChatRoomCharacter.find(\n      (C) => C.MemberNumber == MemberNumber\n    );\n    if (PLAYER) {\n      ChatRoomStatusUpdate(\"Preference\");\n      ChatRoomFocusCharacter(PLAYER);\n    } else {\n      ChatRoomSendLocal(\"This person is no longer in the room.\");\n    }\n  }\n\n  /*\n   * Takes a string target mod name and returns a true if found\n   *\n   * @param targetmod - string name of the mod\n   * @return boolean true if found, false if not\n   */\n  protected detectMod(targetmod: string): boolean {\n    let modlist = bcModSdk.getModsInfo();\n    return modlist.filter((x) => x.name == targetmod).length > 0;\n  }\n\n  /*\n   * Prints HTMLElement objects into the DOM (Chat Window)\n   * and scroll to bottom of chat window\n   *\n   * @param output: (HTMLElement) object to print\n   */\n  public sendoutput(output: HTMLElement): void {\n    const CHAT = document.getElementById(\"TextAreaChatLog\");\n    if (CHAT) {\n      CHAT.appendChild(output);\n      ElementScrollToEnd(\"TextAreaChatLog\");\n    } else {\n      console.log(\"CRABS ERROR: Could not find chat element!\");\n    }\n  }\n\n  protected plaintext(value: string): TemplateValue {\n    return { text: value };\n  }\n\n  /*\n   * Takes a template name and outputs the filled out template HTMLElement\n   *\n   * @param template_name - (string) Name of the HTML file, no extension or path\n   * @param args - (dictionary) where the key is a variable name to replace the template\n   * @param wrapper -  (boolean) [optional] that determines if we draw the wrapper or not\n   * @return (HTMLElement) A promise that resolves to the final html string\n   */\n   protected template(\n    TEMPLATE: string,\n    ARGS: Record<string, string>,\n    WRAPPER: boolean = true\n  ): HTMLElement {\n    let regex: RegExp;\n\n    for (const [KEY, VALUE] of Object.entries(ARGS)) {\n      regex = new RegExp(`{{${KEY}}}`, \"g\");\n      TEMPLATE = TEMPLATE.replace(regex, VALUE);\n    }\n\n    if (WRAPPER) {\n      TEMPLATE = wrappertemplate.replace(\"{{content}}\", TEMPLATE);\n    }\n\n    const CONTAINER = document.createElement(\"template\");\n    CONTAINER.innerHTML = TEMPLATE.trim();\n\n    return CONTAINER.content.firstElementChild as HTMLElement;\n  }\n\n  /*\n   * Takes a template name and outputs the filled out template HTMLElement\n   *\n   * @param template_name - (string) Name of the HTML file, no extension or path\n   * @param args - (dictionary) where the key is a variable name to replace the template\n   * @param wrapper -  (boolean) [optional] that determines if we draw the wrapper or not\n   * @return (HTMLElement) A promise that resolves to the final html string\n   */\n  protected template_new(\n    templateString: string,\n    args: Record<string, TemplateValue>,\n    wrapper: boolean = true\n  ): HTMLElement {\n    const tokens: Record<string, TemplateValue> = {};\n    let modifiedTemplate = templateString;\n\n    // Replace {{key}} with unique tokens\n    for (const key in args) {\n      const token = `__REPLACE_${key}__`;\n      tokens[token] = args[key];\n      modifiedTemplate = modifiedTemplate.replace(\n        new RegExp(`{{${key}}}`, \"g\"),\n        token\n      );\n    }\n\n    // Optionally wrap\n    if (wrapper) {\n      modifiedTemplate = wrappertemplate.replace(\n        \"{{content}}\",\n        modifiedTemplate\n      );\n    }\n\n    // Parse template string into DOM\n    const container = document.createElement(\"template\");\n    container.innerHTML = modifiedTemplate;\n\n    // Replace safeText tokens in text nodes\n    const walker = document.createTreeWalker(\n      container.content,\n      NodeFilter.SHOW_TEXT\n    );\n    let node: Text | null;\n    while ((node = walker.nextNode() as Text | null)) {\n      for (const [token, value] of Object.entries(tokens)) {\n        if (node.nodeValue?.includes(token)) {\n          if (typeof value === \"object\" && \"text\" in value) {\n            node.nodeValue = node.nodeValue.replace(\n              new RegExp(token, \"g\"),\n              value.text\n            );\n          }\n        }\n      }\n    }\n\n    // Replace any remaining HTML tokens with raw HTML\n    for (const [token, value] of Object.entries(tokens)) {\n      const html =\n        typeof value === \"string\" ? value : \"text\" in value ? undefined : \"\";\n\n      if (html !== undefined) {\n        container.innerHTML = container.innerHTML.replace(\n          new RegExp(token, \"g\"),\n          html\n        );\n      }\n    }\n\n    // Return the rendered content\n    return container.content.firstElementChild as HTMLElement;\n  }\n\n  /*\n   * Takes a template name and outputs the filled out template string\n   *\n   * @param template_name - Name of the HTML file, no extension or path\n   * @param args - A dictionary where the key is a variable name to replace the template\n   * @param wrapper -  A boolean that determines if we draw the wrapper or not\n   * @return A promise that resolves to the final html string\n   */\n  protected template_old(\n    template: string,\n    args: Record<string, string>,\n    wrapper: boolean = true\n  ): string {\n    let regex: RegExp;\n\n    for (const [key, value] of Object.entries(args)) {\n      regex = new RegExp(`{{${key}}}`, \"g\");\n      template = template.replace(regex, value);\n    }\n\n    if (wrapper) {\n      template = wrappertemplate.replace(\"{{content}}\", template);\n    }\n\n    return template;\n  }\n\n  /*\n   * print the crabs logo\n   * @return html string for the logo\n   */\n  protected printlogo(): string {\n    let html = \"\";\n    html += `<img `;\n    html += `alt='CRABS' `;\n    html += `src='${this.ICONS[\"logo\"]}' `;\n    html += `height=\"100px\" width=\"100px\"`;\n    html += `>`;\n    return html;\n  }\n\n  /*\n   *  print icons\n   *\n   *  @param key - (string) name of the icon you want\n   *  @param tooltip - (string [optional] string tool top\n   *  @param style - (string) [optional] css style\n   *                    to overwrite the default style sheet.\n   *  @return - (string) html representing the icon\n   */\n  protected printicon(\n    key: string,\n    tooltip: string = \"\", // optional tooltip\n    css_class: string = \"CRABS_icon\",\n    style: string = \"\" // optional, css overwrite\n  ): string {\n    let ICON = this.ICONS[\"error\"]; // fall back if the icon isn't found\n    if (key in this.ICONS) {\n      // test if the key exists\n      ICON = this.ICONS[key];\n    }\n\n    let html = \"\";\n    if (tooltip != \"\") html += `<div class='CRABS_tooltip-wrapper'>`; // skip the tool tip if string wasn't set\n    html += `<img `;\n    html += `alt='${key}' `;\n    html += `src='${ICON}' `;\n    html += `class='${css_class}'`;\n    if (status != \"\") html += `status=\"${status}\"`;\n    html += `>`;\n    if (tooltip != \"\") html += `<div class='CRABS_tooltip'>${tooltip}</div>`;\n    if (tooltip != \"\") html += `</div>`;\n    return html;\n  }\n\n  /*\n   *  TypeScript: Function to convert hex color to rgba and add transparency\n   *\n   * @param: string hex value of the color\n   * @param: number for transparencey, bigger is more opaque. Optional, default 0\n   *  Alpha range: The alpha value ranges from -1 to 1:\n   *  alpha = 0 means fully opaque (no transparency).\n   *  alpha = -1 means fully transparent (completely invisible).\n   *\n   *  @return: string rgba value with alpha\n   */\n  protected convertColor(hex: string, alpha: number = 0): string {\n    // Remove the hash if it's there\n    hex = hex.replace(/^#/, \"\");\n\n    // Parse the red, green, and blue components\n    let red = parseInt(hex.substr(0, 2), 16);\n    let green = parseInt(hex.substr(2, 2), 16);\n    let blue = parseInt(hex.substr(4, 2), 16);\n\n    // Return the rgba value with alpha transparency\n    return `rgba(${red}, ${green}, ${blue}, ${alpha})`;\n  }\n}\n","import CRABS from \"../base\";\nimport { TemplateValue } from \"../base\";\nimport { ModSDKModAPI } from \"bondage-club-mod-sdk\";\nimport \"./templates/roster.css\";\nimport rostertemplate from \"./templates/roster.html\";\nimport rostercardstemplate from \"./templates/roster_cards.html\";\n\nexport class Roster extends CRABS {\n  private onlineFriends: number | undefined = undefined;\n  private lastSentTime: number = 0; // Timestamp for the last ServerSend call\n\n  /*\n   * Constructor\n   *\n   * @param CRABS - (ModSDKModAPI) object containing the modsdkapi\n   */\n  constructor(CRABS: ModSDKModAPI) {\n    super(CRABS);\n    this.loadFriendList();\n  }\n\n  /*\n   * Prints the roster as if the user ran the command\n   * Meant to be attached to the DOM\n   *\n   * @param action - (string) that determines what the roster should print\n   */\n  public static printRoster(action: string = \"all\"): void {\n    for (const [_, COMMAND] of Commands.entries()) {\n      if (COMMAND.Tag === `roster`) {\n        COMMAND.Action(action);\n        break;\n      }\n    }\n  }\n\n  /*\n   * detect overflow in cards and scroll the text\n   *\n   * @param containerSelector - string, containing the css container we want to target\n   */\n  public initScrollingOverflow(\n    containerSelector: string = \".CRABS_overflow-wrapper\"\n  ): void {\n    const wrappers = document.querySelectorAll<HTMLElement>(containerSelector);\n\n    wrappers.forEach((wrapper) => {\n      const scroller = wrapper.querySelector<HTMLElement>(\n        \".CRABS_overflow-scroll\"\n      );\n      if (!scroller) return;\n\n      // Remove previous values\n      wrapper.classList.remove(\"scrolling\");\n      scroller.style.removeProperty(\"--scroll-distance\");\n\n      // Wait for layout\n      requestAnimationFrame(() => {\n        const scrollWidth = scroller.scrollWidth;\n        const wrapperWidth = wrapper.offsetWidth;\n\n        if (scrollWidth > wrapperWidth) {\n          const scrollAmount = scrollWidth - wrapperWidth;\n          scroller.style.setProperty(\"--scroll-distance\", `-${scrollAmount}px`);\n          wrapper.classList.add(\"scrolling\");\n        }\n      });\n    });\n  }\n\n  /*\n   * setStatusIcons determines if a player is Deaf, Blind, or Gagged\n   * and sets icons accordingly\n   *\n   * @param player - PlayerCharater, the player object\n   * @return - string list of icons\n   */\n  private setStatusIcons(player: PlayerCharacter): string {\n    const PREFIXES = [\"Blind\", \"Gag\", \"Deaf\"];\n    const EFFECTS = CharacterGetEffects(player);\n\n    // Effect lists mapping\n    const EFFECT_LISTS: { [key: string]: { [key: string]: number } } = {\n      Blind: {\n        BlindLight: 1,\n        BlindNormal: 2,\n        BlindHeavy: 3,\n        BlindTotal: 4,\n      },\n      Gag: {\n        GagVeryLight: 1,\n        GagEasy: 1,\n        GagLight: 1,\n        GagNormal: 2,\n        GagMedium: 2,\n        GagHeavy: 3,\n        GagVeryHeavy: 3,\n        GagTotal: 4,\n        GagTotal2: 4,\n        GagTotal3: 4,\n        GagTotal4: 4,\n      },\n      Deaf: {\n        DeafLight: 1,\n        DeafNormal: 2,\n        DeafHeavy: 3,\n        DeafTotal: 4,\n      },\n    };\n\n    // Initialize icons as empty strings\n    let icons: { [key: string]: string } = {\n      Blind: \"\",\n      Gag: \"\",\n      Deaf: \"\",\n    };\n\n    // Helper function to determine the maximum value for each prefix and set the corresponding icon\n    const updateIcon = (prefix: string, effect: string): void => {\n      const effectName = effect.charAt(0).toLowerCase() + effect.slice(1);\n      const effectList = EFFECT_LISTS[prefix];\n\n      if (effect in effectList) {\n        const effectValue = effectList[effect];\n        if (\n          effectValue >\n          (icons[prefix] ? parseInt(icons[prefix].split(\": \")[1]) : 0)\n        ) {\n          icons[prefix] = this.printicon(\n            effectName,\n            `${prefix}: ${effectValue}`\n          );\n        }\n      }\n    };\n\n    // Process effects\n    for (let effect of EFFECTS) {\n      for (let prefix of PREFIXES) {\n        if (effect.startsWith(prefix)) {\n          updateIcon(prefix, effect);\n        }\n      }\n    }\n\n    // Set default icons if no icon was set\n    icons.Blind = icons.Blind || this.printicon(\"blindNone\");\n    icons.Gag = icons.Gag || this.printicon(\"gagNone\");\n    icons.Deaf = icons.Deaf || this.printicon(\"deafNone\");\n\n    return `${icons.Gag} ${icons.Blind} ${icons.Deaf}`;\n  }\n  /*\n   * builds the cards that get injected into the roster\n   *\n   * @param player -  PlayerCharacter that we are working with\n   * @param badge - string for the badge showing if the player is admin\n   * @param player_icons - string for the different icons relevant to the player\n   * @return - string containing the output html from the template.\n   */\n  private buildCard(\n    player: PlayerCharacter,\n    badge: string,\n    player_icons: string\n  ): HTMLElement {\n    let templatevars: Record<string, string | TemplateValue> = {\n      PlayerNumber: `${player.MemberNumber}`,\n      Badge: badge,\n      LabelColorBorder: `${this.convertColor(\n        player.LabelColor ?? \"#FFFFFF\",\n        0.5\n      )}`,\n      LabelColor: `${player.LabelColor || \"#FFFFFF\"}`,\n      PlayerName: CharacterNickname(player).normalize(\"NFKC\"),\n      PlayerIcons: player_icons,\n      StatusIcons: `${this.setStatusIcons(player)}`,\n    };\n\n    return this.template(rostercardstemplate, templatevars, false);\n  }\n\n  //query the server for friendslist\n  private loadFriendList(): void {\n    this.crabs.hookFunction(\"FriendListLoadFriendList\", 0, (args, next) => {\n      const [DATA]: Array<Record<string, any>> = args;\n      this.onlineFriends = DATA.length;\n      this.lastSentTime = Date.now();\n      return next(args);\n    });\n  }\n\n  // Debounce function to control the timing of ServerSend\n  private canSendServerRequest(): boolean {\n    const now = Date.now();\n    if (now - this.lastSentTime >= 10 * 60 * 1000) {\n      // 10 minutes in milliseconds\n      this.lastSentTime = now; // Update the lastSentTime to the current time\n      return true;\n    }\n    return false;\n  }\n\n  // Function to get the online friend count\n  public async getOnlineFriendCount(): Promise<number> {\n    // Check if it's okay to send the server request\n    if (this.canSendServerRequest()) {\n      // Send server request if it's been more than 2 minutes\n      await ServerSend(\"AccountQuery\", { Query: \"OnlineFriends\" });\n    }\n\n    // Wait for the hook function to finish (assuming `next` ensures it completes)\n    return new Promise<number>((resolve) => {\n      const CHECKONLINEFRIENDS = () => {\n        if (this.onlineFriends !== undefined) {\n          resolve(this.onlineFriends); // Return the online friends count\n        } else {\n          setTimeout(CHECKONLINEFRIENDS, 100); // Check again after 100ms\n        }\n      };\n\n      CHECKONLINEFRIENDS(); // Start the checking process\n    });\n  }\n\n  // determine if player is admin or whitelisted in the room and set their badge icon\n  private setbadge(player: PlayerCharacter): string {\n    let badge = this.printicon(\"player\", \"Guest\", \"CRABS_badge\");\n    badge = ChatRoomData.Whitelist.includes(player.MemberNumber)\n      ? this.printicon(\"vip\", \"VIP\", \"CRABS_badge\")\n      : badge;\n    badge = ChatRoomData.Admin.includes(player.MemberNumber)\n      ? this.printicon(\"admin\", \"Admin\", \"CRABS_badge\")\n      : badge;\n    return badge;\n  }\n\n  /*\n   * Sets the icons relevant to the player\n   *\n   * @param player - PlayerCharacter object\n   * @return - string, html string containing the icons.\n   */\n  private setIcons(player: PlayerCharacter): string {\n    let player_icons = \"\";\n    if (Player.OwnerNumber() == player.MemberNumber) {\n      // person owns you\n      player_icons += this.printicon(\"owner\", \"Your Owner\") + \" \";\n    } else if (Player.IsInFamilyOfMemberNumber(player.MemberNumber ?? -1)) {\n      // if they don't own you but you are in their family, we assume you own them\n      if (Player.IsOwnedByPlayer(player.MemberNumber ?? -1)) {\n        // The person is fully owned if this is true\n        player_icons += this.printicon(\"sub\", \"Submissive\") + \" \";\n      } else {\n        // person is on trial\n        player_icons += this.printicon(\"trial\", \"Trial\") + \" \";\n      }\n    }\n    if (Player.GetLoversNumbers().includes(player.MemberNumber ?? -1)) {\n      // person is a lover\n      player_icons += this.printicon(\"lover\", \"Lover\") + \" \";\n    } else {\n      if (this.detectMod(\"BCTweaks\")) {\n        // BCTweaks mod is found\n        if (\n          Player.BCT.bctSettings.bestFriendsList.includes(player.MemberNumber)\n        ) {\n          //Player is a best friend, skip checking if they are a friend.\n          player_icons += this.printicon(\"bestfriend\", \"Best Friend\") + \" \";\n        } else if (Player.FriendList.includes(player.MemberNumber)) {\n          // Player is not a best friend, but they are a friend\n          player_icons += this.printicon(\"friend\", \"Friend\") + \" \";\n        }\n      } else if (Player.FriendList.includes(player.MemberNumber)) {\n        // person is a friend, and the BCTweaks mod is not found\n        player_icons += this.printicon(\"friend\", \"Friend\") + \" \";\n      }\n    }\n    if (Player.WhiteList.includes(player.MemberNumber)) {\n      // Player is whitelisted\n      player_icons += this.printicon(\"whitelist\", \"Whitelist\") + \" \";\n    } else if (Player.BlackList.includes(player.MemberNumber)) {\n      // Player is blacklisted\n      player_icons += this.printicon(\"blacklist\", \"Blacklist\") + \" \";\n    }\n    if (Player.GhostList.includes(player.MemberNumber)) {\n      // Player is ghosted\n      player_icons += this.printicon(\"ghost\", \"Ghosted\") + \" \";\n    }\n    return player_icons;\n  }\n\n  /*\n   *  prints the roster\n   *\n   *  @param args - string arguments passed from user\n   *  @param wrapper - boolean wrappar, should we draw the wrapper\n   *  @returms - string html output\n   */\n  public buildroster(\n      args: string, \n      wrapper: boolean = true\n  ): HTMLElement {\n    const SPLITARGS = args.split(\" \");\n\n    let me_output_html: HTMLElement = document.createElement(\"div\"); // holds data about user who ran script\n    let admin_output_html: HTMLElement = document.createElement(\"div\"); // holds admins\n    let vip_output_html: HTMLElement = document.createElement(\"div\"); // holds whitelisted users\n    let player_output_html : HTMLElement = document.createElement(\"div\"); // holds normal players\n    let player: PlayerCharacter; // the person we found in the room\n    let admin_count = 0; // number of admins in the room\n    let badge = \"\"; // holds the admin icon if the player is an admin\n    let player_icons = \"\"; // holds the list of player/status icons (string)\n    let MemberNumber: number;\n\n    // filter variables, show or not show certain output\n    let showme = true; // person who ran the script (you)\n    let showadmins = true; // room admins\n    let showvip = true; // room whitelists\n    let showplayers = true; // normal players\n    let templatevars: Record<string, string>;\n    let output_html: HTMLElement = document.createElement(\"div\");\n\n    //get a list of players\n    for (let person in ChatRoomData.Character) {\n      // find member number for current player in list\n      MemberNumber = ChatRoomData.Character[person].MemberNumber;\n\n      // Find player\n      player = ChatRoomCharacter.find(\n        (C: any) => C.MemberNumber == MemberNumber\n      );\n\n      //bail out and return placeholder if player is not available.\n      if (!player) {\n        player_output_html.append(\n            \"❓ <span style='color:#FF0000'>[Unknown Person]</span>\\n\"\n        );\n        continue;\n      }\n\n      // check if the player is also an admin or vip and add icon with admin given priority\n      badge = this.setbadge(player);\n      player_icons = this.setIcons(player);\n\n      // if the player is me (person who ran the script)\n      if (player.IsPlayer()) {\n        // mark me with a star icon\n        player_icons = this.printicon(\"you\", \"You\") + \" \" + player_icons;\n\n        // format my output and store\n        me_output_html = this.buildCard(player, badge, player_icons);\n      }\n\n      // check if the player is an admin and update the count, also flag the player as admin in the output list.\n      if (ChatRoomData.Admin.includes(player.MemberNumber)) {\n        admin_count++;\n        if (!player.IsPlayer()) {\n          // if the player is not me, output admin and skip rest of loop\n          admin_output_html.appendChild(this.buildCard(player, badge, player_icons));\n          continue;\n        }\n      } else if (\n        ChatRoomData.Whitelist.includes(player.MemberNumber) &&\n        !player.IsPlayer()\n      ) {\n        // if the player isn't an admin, is the player is white listed?\n        vip_output_html.appendChild(this.buildCard(player, badge, player_icons));\n        continue;\n      } else if (!player.IsPlayer()) {\n        // player is normal, nonadmin, not whitelist, and not me.\n        player_output_html.appendChild(this.buildCard(player, badge, player_icons));\n      }\n    }\n\n    // if argument is \"count\", set filter vars and skip loop\n    if (SPLITARGS.some((item: any) => item.toLowerCase() === \"count\")) {\n      showme = false;\n      showadmins = false;\n      showvip = false;\n      showplayers = false;\n    }\n\n    // if argument is admins, set filter vars to only show admins and continue\n    if (SPLITARGS.some((item: any) => item.toLowerCase() === \"admins\")) {\n      showme = false;\n      showvip = false;\n      showplayers = false;\n    }\n\n    // if argument is vips, set filter vars to only show vips (white listed) and continue\n    if (SPLITARGS.some((item: any) => item.toLowerCase() === \"vips\")) {\n      showme = false;\n      showadmins = false;\n      showplayers = false;\n    }\n    templatevars = {\n      adminIcon: `${this.printicon(\"admin\", \"Admins\", \"CRABS_header_icons\")}`,\n      adminsInRoom: `${admin_count}`,\n      totalAdmins: `${ChatRoomData.Admin.length}`,\n      playerIcon: `${this.printicon(\"player\", \"Players\", \"CRABS_header_icons\")}`,\n      playersInRoom: `${ChatRoomCharacter.length}`,\n      totalPlayers: `${ChatRoomData.Limit}`,\n      friendIcon: `${this.printicon(\"friend\", \"Friends\", \"CRABS_header_icons\")}`,\n      friendsOnline: this.onlineFriends?.toString() ?? \"...\",\n      totalFriends: `${Player.FriendNames.size}`,\n      connectedIcon: `${this.printicon(\"connected\", \"Online Accounts\", \"CRABS_header_icons\")}`,\n      onlinePlayers: `${CurrentOnlinePlayers}`,\n    };\n\n    // are we on a map?\n    if (ChatRoomMapViewIsActive()) {\n      let displaykeys = \"\"; // determines how to show keys (css) in the roster\n\n      // build a dictionary of the keys\n      const KEYS = {\n        keyBronze: Player.MapData.PrivateState.HasKeyBronze,\n        keySilver: Player.MapData.PrivateState.HasKeySilver,\n        keyGold: Player.MapData.PrivateState.HasKeyGold,\n      };\n\n      // loop the dictionary and extract the key and name\n      for (const [KEY, VALUE] of Object.entries(KEYS)) {\n        // if key is found, set icon and tool tip\n        displaykeys += this.printicon(VALUE ? KEY : \"keyNull\");\n      }\n\n      // replace the template objects for the values we determined above.\n      templatevars[\"online_player_border\"] = \"2px\";      \n      templatevars[\"collectedKeys\"] = \n          `<td style=\"border-right: 0px\">${displaykeys}</td>`;\n      templatevars[\"columncount\"] = \"5\";\n    } else {\n      templatevars[\"online_players_border\"] = \"0px\"; \n      templatevars[\"collectedKeys\"] = \"\";\n      templatevars[\"columncount\"] = \"4\"; // no keys? colspan is 4\n    }\n\n    // start the tabble and remove the boarders\n    //output_html += `<table style=\"border: 0px;\">`;\n    let output_rows: string = \"\";\n    // if the filter var resolves to true, add the respective output.\n    output_rows = showme ? output_rows + me_output_html.outerHTML : output_rows;\n    output_rows = showadmins ? output_rows + admin_output_html.outerHTML : output_rows;\n    output_rows = showvip ? output_rows + vip_output_html.outerHTML : output_rows;\n    output_rows = showplayers ? output_rows + player_output_html.outerHTML : output_rows;\n    templatevars[\"playerRows\"] = output_rows;\n\n    // run the template and fill it out\n    output_html = this.template(rostertemplate, templatevars, wrapper);\n    return output_html;\n  }\n}\n","import {ModSDKModAPI} from \"bondage-club-mod-sdk\";\nimport CRABS from \"../base\"\nexport class WhisperPlus extends CRABS {\n\n    constructor(CRABS: ModSDKModAPI) {\n        super(CRABS);\n        window.sendWhisper = WhisperPlus.sendWhisper;\n    } \n\n    // send chat message at range\n    private ChatRoomSendWhisperRanged(target: any, msg: string): boolean {\n        if (msg == \"\") {\n            return false;\n        }\n\n        // First ensure we have a valid target object\n        const TARGETMEMEBER = typeof target === 'object' ? target : ChatRoomCharacter.find(C => C.MemberNumber === parseInt(target));\n        if (!TARGETMEMEBER) {\n            ChatRoomSendLocalChatRoomSendLocal(`${TextGet(\"CommandNoWhisperTarget\")} ${target}.`, 30_000);\n            return false;\n        }\n\n        // Handle self whispers with gray text and memo emoji\n        if (TARGETMEMEBER.MemberNumber === Player.MemberNumber) {\n            const SELFMESSAGE = `<span style=\"color:#989898\">${this.printicon(\"thought\")} Note to </span><span style=\"color:${Player.LabelColor}\">self</span><span style=\"color:#989898\">: ${msg}</span>`;\n            ChatRoomSendLocal(SELFMESSAGE);\n            return false;\n        }\n\n        // Replace normal brackets with fake ones in the message\n        msg = msg.replace(/\\(/g, \"❪\"); //replace the ( for consistency\n        msg = msg.replace(/\\)/g, \"❫\"); // technically only this one is really needed\n\n\n        // check if target and player are the same\n        if (target.MemberNumber == Player.MemberNumber) {\n            addChatMessage(msg);\n        } else {\n            if (ChatRoomMapViewIsActive() && !ChatRoomMapViewCharacterOnWhisperRange(target) && msg[0] != \"(\") {\n                msg = `(${msg})`;\n            }\n\n            // Prepare the message - now with ⤵ instead of :\n            let formattedMsg = `+: ${msg}`;\n            //if (Player.ChatSettings.OOCAutoClose && !msg.endsWith('）')) {\n            //    formattedMsg += '）';\n            //}\n\n            // build data payload\n            let data = ChatRoomGenerateChatRoomChatMessage(\"Whisper\", formattedMsg);\n            /*if (!data) {\n                data = ChatRoomGenerateChatRoomChatMessage(\"Whisper\", formattedMsg);\n            }*/\n\n            // set the whisper target\n            data.Target = target.MemberNumber;\n\n            //send the whisper\n            const serverData = { ...data, Type: \"Whisper\" }\n            ServerSend(\"ChatRoomChat\", serverData);\n\n            // tell it who we are\n            data.Sender = Player.MemberNumber;\n\n            // send the chat to our window too\n            ChatRoomMessage(data);\n\n            // message was sent\n            return true;\n        }\n        return false;\n    }\n\n    // This starts /whisper+ if you click on the roster\n    public static sendWhisper(memberNumber: number): void {\n      for ( const command of Commands ) {\n        if (command.Tag == \"whisper+\") {\n          window.CommandSet(command.Tag + \" \" + memberNumber)\n        }\n      }\n    };\n\n    // this runs when a player enters the /whisper+ command or clicks the roster\n    public whisperplus(args: string, command: string): number {\n        // parse arguments into MEMBERNUMBER and messsage\n        const MEMBERNUMBER = parseInt(args.slice(0, args.indexOf(\" \")));\n        //const MESSAGE = args.slice(args.indexOf(\" \") + 1);\n        const MESSAGE = command.substring(command.indexOf(' ') + MEMBERNUMBER.toString().length + 2);\n\n        // if membernumber is not a valid number, bail\n        if (Number.isNaN(MEMBERNUMBER)) {\n            ChatRoomSendLocal(\"Member number is invalid.\", 30_000);\n            return 1;\n        }\n\n        if (MESSAGE == \"\") {\n            ChatRoomSendLocal(\"Message was blank\", 30_000);\n            return 1;\n        }\n\n        // find player based no membernumber\n        const TARGET = ChatRoomCharacter.find(\n            (C: any) => C.MemberNumber == MEMBERNUMBER\n        );\n        this.ChatRoomSendWhisperRanged(TARGET || MEMBERNUMBER, MESSAGE);\n        return 0;\n    }\n}\n","// import section\nimport bcModSDK from \"bondage-club-mod-sdk\";\nimport * as Modules from \"./modules\";\nimport loadDOM from \"./modules/dom\";\n\n// configure the version and mod name\nconst VERSION = \"1.1.0.252 Alpha\";\nconst NAME = \"Crazy Roster Add-on By Sin\";\nconst NICKNAME = \"CRABS\";\n\n//register the mod\nconst CRABS = bcModSDK.registerMod({\n  name: NICKNAME,\n  fullName: NAME,\n  version: VERSION,\n  repository: \"https://github.com/sin-1337/CRABS\",\n});\n\nconst BANNER = new Modules.Banner(CRABS);\nconst WHISPERPLUS = new Modules.WhisperPlus(CRABS);\nconst ROSTER = new Modules.Roster(CRABS);\nconst HELP = new Modules.Help(CRABS);\nloadDOM();\n\nconsole.log(`CRABS v${VERSION} Loaded`);\n\nfunction drawbanner() {\n  let output: HTMLElement;\n  // if the player left the room, bail!\n  if (Player.LastChatRoom === null) {\n    // Must return false, even if we are bailing out!\n    return false;\n  }\n\n  // configure extra roster input to the banner\n  // TODO: make this optional in the future\n  let extradata = {\n    RosterCounters: ROSTER.buildroster(\"count\", false).outerHTML,\n  };\n  output = BANNER.drawBanner(NAME, VERSION, extradata);\n\n  // call the action to draw the banner\n  BANNER.sendoutput(output);\n}\n\n// TODO: create ui to turn this off!!\n// TODO: reformat this output maybe?\n// TODO: This only triggers on rooms I didn't make, why?\n// set up a handler for room entry\n// This sets up the banner!\nChatRoomRegisterMessageHandler({\n  Description: \"Send room stats on entry.\",\n  Priority: 0, // trigger immediately\n  Callback: (data: any) => {\n    // check if we are a player and we entered a room\n    if (\n      data.Type === \"Action\" &&\n      data.Content === \"ServerEnter\" &&\n      data.Sender === Player.MemberNumber\n    ) {\n      // work on a delay\n      setTimeout(() => {\n        // configure extra roster input to the banner\n        // TODO: make this optional in the future\n        drawbanner();\n      }, 3600);\n    }\n\n    // Must return false to allow other handlers to work with the data.\n    return false;\n  },\n});\n\nfunction argcheck(args: string): boolean {\n  const SPLITARGS = args.split(\" \");\n  if (SPLITARGS[0].toLowerCase() == \"help\") {\n    HELP.sendoutput(HELP.showhelp());\n    return false;\n  } else if (SPLITARGS[0].toLowerCase() == \"version\") {\n    ChatRoomSendLocal(`${NAME} (${NICKNAME}) <br>Version: ${VERSION}`);\n    return false;\n  } else if (SPLITARGS[0].toLowerCase() == \"banner\") {\n    drawbanner();\n  }\n  return true;\n}\n\nfunction commandRedirect(command: string, args: string): void {\n  for (const [_, COMMAND] of Commands.entries()) {\n    if (COMMAND.Tag === command) {\n      COMMAND.Action(args);\n      break;\n    }\n  }\n}\n\n// implements the whisper+ command\nCommandCombine([\n  {\n    Tag: \"whisper+\",\n    Description:\n      \"Enables the /whisper+ command that does global whisper in a map room\",\n    Action: (args: string, command: string) => {\n      WHISPERPLUS.whisperplus(args, command);\n    },\n  },\n]);\n\nCommandCombine([\n  {\n    Tag: \"w+\",\n    Description:\n      \"Enables the /w+ command that does global whisper in a map room\",\n    Action: (args: string, command: string) => {\n      WHISPERPLUS.whisperplus(args, command);\n    },\n  },\n]);\n\n// implements the /crabs command\nCommandCombine([\n  {\n    Tag: \"crabs\",\n    Description: \"Show the player count, helpful in maps.\",\n    Action: (args: string) => {\n      commandRedirect(\"roster\", args);\n    },\n  },\n]);\n\n// implements the /roster command\nCommandCombine([\n  {\n    Tag: \"roster\",\n    Description: \"Show the player count, helpful in maps.\",\n    Action: (args: string) => {\n      if (argcheck(args)) ROSTER.sendoutput(ROSTER.buildroster(args));\n      ROSTER.initScrollingOverflow();\n      const elements = document.querySelectorAll<HTMLDivElement>(\n        \"div.ChatMessageNonDialogue\"\n      );\n\n      elements.forEach((el) => {\n        el.style.overflow = \"visible\";\n      });\n    },\n  },\n]);\n\n// implements the /players command\nCommandCombine([\n  {\n    Tag: \"players\",\n    Description: \"Deprecated: Show the player count, helpful in maps.\",\n    Action: (args: string) => {\n      commandRedirect(\"roster\", args);\n    },\n  },\n]);\n\n// implements /dropkeys command\nCommandCombine([\n  {\n    Tag: \"dropkeys\",\n    Description:\n      \"Drops the specified keys: gold, silver, or bronze. You can also use all.\",\n    Action: (args: string) => {\n      const splitArgs = args.toLowerCase().split(\" \");\n      if (splitArgs.length < 1) {\n        ChatRoomSendLocal(\n          `You must supply which key to drop, or 'all' to drop them all.`\n        );\n        return;\n      }\n      if (!ChatRoomMapViewIsActive()) {\n        ChatRoomSendLocal(`Key only work on a map...`);\n        return;\n      }\n      for (let i = 0; i < splitArgs.length; i++) {\n        if (splitArgs[i] == \"bronze\" || splitArgs[i] == \"all\") {\n          if (Player.MapData.PrivateState.HasKeyBronze) {\n            Player.MapData.PrivateState.HasKeyBronze = false;\n            ChatRoomSendLocal(`Bronze key dropped.`);\n          }\n        }\n        if (splitArgs[i] == \"silver\" || splitArgs[i] == \"all\") {\n          if (Player.MapData.PrivateState.HasKeySilver) {\n            Player.MapData.PrivateState.HasKeySilver = false;\n            ChatRoomSendLocal(`Silver key dropped.`);\n          }\n        }\n        if (splitArgs[i] == \"gold\" || splitArgs[i] == \"all\") {\n          if (Player.MapData.PrivateState.HasKeyGold) {\n            Player.MapData.PrivateState.HasKeyGold = false;\n            ChatRoomSendLocal(`Gold key dropped.`);\n          }\n        }\n        if (\n          splitArgs[i] != \"bronze\" &&\n          splitArgs[i] != \"silver\" &&\n          splitArgs[i] != \"gold\" &&\n          splitArgs[i] != \"all\"\n        ) {\n          ChatRoomSendLocal(`Argument '${splitArgs[i]}', was not understood.`);\n        }\n      }\n    },\n  },\n]);\n","import CRABS from \"../base\";\nimport { ModSDKModAPI } from \"bondage-club-mod-sdk\";\nimport \"./templates/banner.css\";\nimport bannertemplate from \"./templates/banner.html\";\n\n\nexport class Banner extends CRABS {\n\n    constructor(CRABS: ModSDKModAPI) {\n    super(CRABS);\n    }\n\n\n    public drawBanner(\n        name: string, \n        version: string,\n        extradata?: Record<string, string>\n    ): HTMLElement {\n\n        // get player permissions\n        const currentPermissionText = `${TextGetInScope(\n          \"Screens/Character/InformationSheet/Text_InformationSheet.csv\",\n          \"PermissionLevel\" + Player.ItemPermission.toString()\n        )} (${Player.ItemPermission})`;\n\n        // set up the template and populate the fields.\n        let templatevars = {\n            \"Logo\": this.printlogo(),\n            \"Name\": name,\n            \"Version\": version,\n            \"LabelColor\": `${Player.LabelColor}`,\n            \"PlayerPermission\": currentPermissionText,\n            \"RoomName\": ChatRoomData.Name,\n        }\n        \n        if (extradata) Object.assign(templatevars, extradata);\n\n        return (this.template(bannertemplate, templatevars));\n    }\n}\n","import CRABS from \"../base\";\nimport helptemplate from \"./templates/help.html\";\n\n\nexport class Help extends CRABS {\n\n  // show help\n  public showhelp(): HTMLElement{\n    let output = `<table style=\"width: 100%\"><tr><td>\n            <span style=\" text-shadow: 0px 0px 3px #000000; white-space: normal;\">\n            <hr>\n            CRABS help sheet</br>\n            /roster</br>\n            This command lists the number of admins and players\n            in a room and gives you some informatoin about them </br>\n            \n            /players is deprecated, but still works currently.\n\n            </br>\n            Arguments:\n            <hr>\n            help - show this menu </br>\n            count - show only the player count </br>\n            admins - show only a list of admins and the counts </br>\n            vips - show only room whitelisted and the counts </br>\n\n            </br>\n            Badges:\n            <hr>\n            ${this.printicon(\"admin\")} = Person is Admin</br>\n            ${this.printicon(\"vip\")} = Person is whitelisted in the room </br>\n            ${this.printicon(\"player\")} = Person is a normal user </br>\n\n            </br>\n            Icons:\n            <hr>\n            ${this.printicon(\"you\")} = Person is you </br>\n            ${this.printicon(\"owner\")} = Person is your owner </br>\n            ${this.printicon(\"sub\")} = Person is your submissive </br>\n            ${this.printicon(\"trial\")} = Person is on trial with you </br>\n            ${this.printicon(\"lover\")} = Person is your lover </br>`;\n\n    //prints only if the BCTweaks module is detected.\n    if (this.detectMod(\"BCTweaks\")) {\n      output += `${this.printicon(\n        \"bestfriend\"\n      )} = Person is a best friend </br>`;\n    }\n\n    output += `${this.printicon(\"friend\")} = Person is a friend </br>\n            ${this.printicon(\n              \"whitelist\"\n            )} = You have this person whitelisted </br>\n            ${this.printicon(\n              \"blacklist\"\n            )} = You have this person blacklisted </br>\n            ${this.printicon(\"ghost\")} = You have ghosted this person </br>\n\n            </br>\n            Actions:\n            <hr>\n            Click Badge - If you click the badge for a player it will be as if you clicked them to interact. </br>\n            Click name - If you click the name/number of a player it will whisper them without range constraints. </br>\n            </span>\n            </td>\n            </tr>\n            </table>`;\n\n    let templatevars = {\n        \"HelpOutput\": output,\n    };\n    return(this.template(helptemplate, templatevars));\n  }\n}\n","import * as Modules from \".\"\n\nexport default function loadDOM() {\n    window.sendWhisper = Modules.WhisperPlus.sendWhisper;\n    window.PlayerFocus = Modules.Roster.showPlayerFocus;\n    window.printRoster = Modules.Roster.printRoster;\n}\n"],"names":["o","e","alert","Error","console","error","t","TextEncoder","n","Array","isArray","r","Set","filter","has","add","i","Map","a","c","warn","s","f","values","patching","get","name","push","hooks","patches","entries","set","sort","priority","size","toString","replaceAll","includes","eval","original","m","errorReporterHooks","hookChainExit","call","apply","this","length","hookEnter","mod","hook","arguments","patchesSources","enter","final","l","precomputed","window","split","slice","join","encode","padStart","toUpperCase","d","originalHash","Object","assign","router","context","contextProperty","p","sdkEntrypoint","currentEntrypoint","hookedByMods","map","patchedByMods","from","u","delete","loaded","g","fullName","version","repository","allowReplace","apiEndpointEnter","unload","hookFunction","indexOf","splice","patchFunction","removePatches","clear","callOriginal","globalThis","getOriginalHash","api","freeze","h","y","bcModSdk","apiVersion","registerMod","getModsInfo","getPatchingInfo","seal","defineProperty","exports","value","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","create","SuppressedError","styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","CRABS$1","constructor","CRABS","ICONS","logo","admin","vip","player","you","owner","sub","trial","lover","bestfriend","friend","whitelist","blacklist","ghost","thought","connected","keyGold","keySilver","keyBronze","keyNull","blindNone","blindLight","blindNormal","blindHeavy","blindTotal","deafNone","deafLight","deafNormal","deafHeavy","deafTotal","gagNone","gagVeryLight","gagEasy","gagLight","gagNormal","gagMedium","gagHeavy","gagVeryHeavy","gagTotal","gagTotal2","gagTotal3","gagTotal4","crabs","showPlayerFocus","MemberNumber","PLAYER","ChatRoomCharacter","find","C","ChatRoomStatusUpdate","ChatRoomFocusCharacter","ChatRoomSendLocal","detectMod","targetmod","x","sendoutput","output","CHAT","getElementById","ElementScrollToEnd","log","plaintext","text","template","TEMPLATE","ARGS","WRAPPER","regex","KEY","VALUE","RegExp","replace","wrappertemplate","CONTAINER","innerHTML","trim","content","firstElementChild","template_new","templateString","args","wrapper","tokens","modifiedTemplate","key","token","container","walker","createTreeWalker","NodeFilter","SHOW_TEXT","node","nextNode","_a","nodeValue","html","undefined","template_old","printlogo","printicon","tooltip","css_class","ICON","status","convertColor","hex","alpha","parseInt","substr","Roster","super","onlineFriends","lastSentTime","loadFriendList","printRoster","action","_","COMMAND","Commands","Tag","Action","initScrollingOverflow","containerSelector","querySelectorAll","forEach","scroller","querySelector","classList","remove","removeProperty","requestAnimationFrame","scrollWidth","wrapperWidth","offsetWidth","scrollAmount","setProperty","setStatusIcons","PREFIXES","EFFECTS","CharacterGetEffects","EFFECT_LISTS","Blind","BlindLight","BlindNormal","BlindHeavy","BlindTotal","Gag","GagVeryLight","GagEasy","GagLight","GagNormal","GagMedium","GagHeavy","GagVeryHeavy","GagTotal","GagTotal2","GagTotal3","GagTotal4","Deaf","DeafLight","DeafNormal","DeafHeavy","DeafTotal","icons","updateIcon","prefix","effect","effectName","charAt","toLowerCase","effectList","effectValue","startsWith","buildCard","badge","player_icons","templatevars","PlayerNumber","Badge","LabelColorBorder","LabelColor","PlayerName","CharacterNickname","normalize","PlayerIcons","StatusIcons","DATA","Date","now","canSendServerRequest","getOnlineFriendCount","ServerSend","Query","CHECKONLINEFRIENDS","setTimeout","setbadge","ChatRoomData","Whitelist","Admin","setIcons","Player","OwnerNumber","IsInFamilyOfMemberNumber","IsOwnedByPlayer","_b","GetLoversNumbers","_c","BCT","bctSettings","bestFriendsList","FriendList","WhiteList","BlackList","GhostList","buildroster","SPLITARGS","me_output_html","admin_output_html","vip_output_html","player_output_html","admin_count","showme","showadmins","showvip","showplayers","output_html","person","Character","IsPlayer","append","some","item","adminIcon","adminsInRoom","totalAdmins","playerIcon","playersInRoom","totalPlayers","Limit","friendIcon","friendsOnline","totalFriends","FriendNames","connectedIcon","onlinePlayers","CurrentOnlinePlayers","ChatRoomMapViewIsActive","displaykeys","KEYS","MapData","PrivateState","HasKeyBronze","HasKeySilver","HasKeyGold","output_rows","outerHTML","WhisperPlus","sendWhisper","ChatRoomSendWhisperRanged","target","msg","TARGETMEMEBER","ChatRoomSendLocalChatRoomSendLocal","TextGet","SELFMESSAGE","ChatRoomMapViewCharacterOnWhisperRange","data","ChatRoomGenerateChatRoomChatMessage","Target","serverData","Type","Sender","ChatRoomMessage","addChatMessage","memberNumber","command","CommandSet","whisperplus","MEMBERNUMBER","MESSAGE","substring","Number","isNaN","TARGET","VERSION","NAME","bcModSDK","BANNER","drawBanner","extradata","currentPermissionText","TextGetInScope","ItemPermission","Logo","Name","Version","PlayerPermission","RoomName","WHISPERPLUS","Modules.WhisperPlus","ROSTER","Modules.Roster","HELP","showhelp","HelpOutput","drawbanner","LastChatRoom","RosterCounters","commandRedirect","PlayerFocus","ChatRoomRegisterMessageHandler","Description","Priority","Callback","Content","CommandCombine","argcheck","el","overflow","splitArgs"],"mappings":"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","x_google_ignoreList":[0,1,2]}